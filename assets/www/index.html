<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name=viewport content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">  
<title>Evies Scratch Pad!</title>
	<script type="text/javascript" src="js/jquery-1.7.min.js"></script>
	<script type="text/javascript" src="js/jquery.mobile-1.3.1.min.js"></script>
	<script type="text/javascript" src="js/scratch.js"></script>
	<link rel="stylesheet" href="css/jquery.mobile-1.3.1.min.css" />
	<style type="text/css">	
	.main{
		width:350px;
		height:500px;
		line-height:500px;
		margin:auto;
		text-align:center;
		color:#ccc;
	}	
	.main,.scratchCard,.scratchCard canvas{
		max-width:100%;
	}
	</style>
	<script type="text/javascript">
	$(document).ready(function() {
	  $("#scratch").rabidScratchCard({
				revealRadius:15,
				revealOnComplete:false,
				// Setting this option is processor intensive. So, set this only if necessary. 
				// If set to false, % will be calculated only on muse up of scracthing
				updateOnMouseMove:false,
				updateOnFingerMove:false,			    
		});
	});
	/*$(function(){			
		$("#scratch").rabidScratchCard({
				revealRadius:15,
				revealOnComplete:false,
				// Setting this option is processor intensive. So, set this only if necessary. 
				// If set to false, % will be calculated only on muse up of scracthing
				updateOnMouseMove:false,
				updateOnFingerMove:false,			    
		});
	});*/
	
	function nextPicture() {
		$("#scratch").attr('backgroundimage', 'images/'+
			Math.floor(Math.random()*21)+'.jpg');
		alert($(".scratchCanvas").height);
		$("#scratch").rabidScratchCard({
				revealRadius:15,
				revealOnComplete:false,
				// Setting this option is processor intensive. So, set this only if necessary. 
				// If set to false, % will be calculated only on mouse up of scratching
				updateOnMouseMove:false,
				updateOnFingerMove:false,			    
		});
	}
	</script>
</head>
<body>
<div data-role="page" id="home" data-theme="c">
	<div data-role="header" role="banner">		
		<h1 class="ui-title" role="heading" aria-level="1">Evies!</h1>
		<a href="javascript:nextPicture()" data-icon="bars" 
			class="ui-btn-right ui-btn ui-btn-up-a ui-shadow ui-btn-corner-all ui-btn-icon-left" 
			data-corners="true" data-shadow="true" data-iconshadow="true" 
			data-wrapperels="span" data-theme="a"><span class="ui-btn-inner">
			<span class="ui-btn-text">Next</span>
			<span class="ui-icon ui-icon-bars ui-icon-shadow">&nbsp;</span></span></a>
	</div>
	<div data-role="content">
		<div class="main">	
			<div id="scratch" class="scratchCard"
				data-backGroundImage="images/2.jpg" 
				data-foreGroundImage="images/scratchIt.jpg">
				<p style="font-size:50px">LOADING</p>
				<img src="images/loading2.gif"/>
			</div>
		</div>
	</div>
</div>
</body>
</html>